<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual do Professor - Inetz Lab</title>
    <style>
        :root {
            --primary: #0f172a;
            --accent: #2563eb;
            --success: #10b981;
            --bg: #f1f5f9;
            --card: #ffffff;
            --text: #334155;
        }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; margin: 0; padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; background: var(--card); padding: 40px; border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        
        header { border-bottom: 3px solid var(--accent); margin-bottom: 30px; padding-bottom: 20px; }
        h1 { color: var(--primary); margin: 0; font-size: 2rem; }
        h2 { color: var(--accent); margin-top: 30px; border-left: 4px solid var(--accent); padding-left: 15px; }
        h3 { color: var(--primary); margin-top: 20px; }

        .concept-box { background: #eff6ff; border: 1px solid #dbeafe; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0; }
        @media (max-width: 768px) { .grid { grid-template-columns: 1fr; } }

        pre { background: #1e293b; color: #f8fafc; padding: 15px; border-radius: 6px; overflow-x: auto; font-size: 0.9rem; position: relative; }
        code { font-family: 'Fira Code', monospace; }
        
        .copy-btn { position: absolute; top: 10px; right: 10px; background: var(--accent); color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer; font-size: 0.7rem; }
        .copy-btn:hover { opacity: 0.9; }

        .checklist-area { background: #f8fafc; border: 2px dashed #cbd5e1; padding: 20px; border-radius: 8px; }
        .item { display: flex; align-items: center; margin-bottom: 12px; font-weight: 500; }
        input[type="checkbox"] { width: 18px; height: 18px; margin-right: 12px; }

        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { text-align: left; padding: 12px; border-bottom: 1px solid #e2e8f0; }
        th { background: #f8fafc; }

        .badge { background: var(--accent); color: white; padding: 2px 8px; border-radius: 12px; font-size: 0.8rem; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>Manual do Professor: Inetz Lab Deploy</h1>
        <p>Guia de padronização para Front-End, Back-End e IA.</p>
    </header>

    <section>
        <h2>1. A Estrutura de URLs</h2>
        <p>Para garantir a organização, todos os projetos seguem o padrão:</p>
        <div class="concept-box">
            <strong>URL Final:</strong> <code>lab.inetz.com.br/[RA]/[categoria]/[projeto]</code>
        </div>
        <table>
            <thead>
                <tr>
                    <th>Categoria</th>
                    <th>Tecnologias</th>
                    <th>Caminho no Servidor</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>front</code></td>
                    <td>HTML, React, Vue, Angular</td>
                    <td><code>/var/inetpub/wwwroot/projetos/[RA]/front/</code></td>
                </tr>
                <tr>
                    <td><code>back</code></td>
                    <td>Node.js, Express</td>
                    <td><code>/var/inetpub/wwwroot/projetos/[RA]/back/</code></td>
                </tr>
                <tr>
                    <td><code>ia</code></td>
                    <td>Python, Scripts, Modelos</td>
                    <td><code>/var/inetpub/wwwroot/projetos/[RA]/ia/</code></td>
                </tr>
            </tbody>
        </table>
    </section>

    <section>
        <h2>2. Configuração de Segredos (GitHub Secrets)</h2>
        <p>Instrua seus alunos a configurarem estes 4 valores em seus repositórios privados:</p>
        <ul>
            <li><code>SSH_HOST</code>: IP do servidor Inetz.</li>
            <li><code>SSH_KEY</code>: Chave privada RSA do servidor (fornecida pela coordenação).</li>
            <li><code>ALUNO_RA</code>: RA do aluno (Ex: 123456).</li>
            <li><code>ALUNO_PROJETO</code>: Nome do projeto em minúsculas (Ex: <code>api-vendas</code>).</li>
        </ul>
    </section>

    <section>
        <h2>3. Scripts de Deploy (YAML)</h2>
        <p>Copie e forneça o script correspondente à sua disciplina:</p>

        <h3>A. Front-End Moderno (React/Vue/Vite)</h3>
        <pre><button class="copy-btn" onclick="copyText(this)">Copiar</button><code>name: Deploy Front Moderno
on: [push]
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Build
        run: npm install && npm run build
      - name: Deploy
        uses: appleboy/scp-action@v0.1.7
        with:
          host: ${{ secrets.SSH_HOST }}
          key: ${{ secrets.SSH_KEY }}
          source: "dist/*"
          target: "/var/inetpub/wwwroot/projetos/${{ secrets.ALUNO_RA }}/front/${{ secrets.ALUNO_PROJETO }}"
          strip_components: 1</code></pre>

        <h3>B. Back-End (Node.js)</h3>
        <pre><button class="copy-btn" onclick="copyText(this)">Copiar</button><code>name: Deploy Node.js
on: [push]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Deploy
        uses: appleboy/scp-action@v0.1.7
        with:
          host: ${{ secrets.SSH_HOST }}
          key: ${{ secrets.SSH_KEY }}
          source: "."
          target: "/var/inetpub/wwwroot/projetos/${{ secrets.ALUNO_RA }}/back/${{ secrets.ALUNO_PROJETO }}"</code></pre>
    </section>

    <section>
        <h2>4. Checklist de Aula (Para o Aluno)</h2>
        <div class="checklist-area">
            <label class="item"><input type="checkbox"> <span>Gerar chave SSH Local (<code>ssh-keygen</code>) e adicionar no GitHub</span></label>
            <label class="item"><input type="checkbox"> <span>Criar Repositório PRIVADO</span></label>
            <label class="item"><input type="checkbox"> <span>Configurar os 4 Secrets no GitHub</span></label>
            <label class="item"><input type="checkbox"> <span>Criar arquivo <code>.github/workflows/main.yml</code></span></label>
            <label class="item"><input type="checkbox"> <span>Realizar o Push e validar o ícone verde nas Actions</span></label>
        </div>
    </section>

    <footer>
        <p style="text-align: center; color: #94a3b8; font-size: 0.9rem;">
            Inetz Lab &copy; 2026 - O Nginx serve, o GitHub constrói, você cria.
        </p>
    </footer>
</div>

<script>
    function copyText(btn) {
        const code = btn.nextElementSibling.innerText;
        navigator.clipboard.writeText(code);
        const originalText = btn.innerText;
        btn.innerText = "Copiado!";
        setTimeout(() => btn.innerText = originalText, 2000);
    }

    // Persistência simples do checklist
    const checks = document.querySelectorAll('input[type="checkbox"]');
    checks.forEach((c, i) => {
        c.checked = localStorage.getItem('prof-step-'+i) === 'true';
        c.onchange = () => localStorage.setItem('prof-step-'+i, c.checked);
    });
</script>

</body>
</html>